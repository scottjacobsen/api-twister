Ruby DSL for configuring non-trivial APIs
